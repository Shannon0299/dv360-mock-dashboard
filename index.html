<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mock DV360 Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- IMPORTANT: Loads the Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js" defer></script>
</head>
<body>
    <div class="app-container">
        <!-- ===== SIDE NAVIGATION BAR ===== -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>DV360 Mock</h2>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="active"><a href="#">Campaigns</a></li>
                    <li><a href="#">Audiences</a></li>
                    <li><a href="#">Creatives</a></li>
                    <li><a href="#">Reporting</a></li>
                </ul>
            </nav>
        </aside>

        <!-- ===== MAIN CONTENT AREA ===== -->
        <div class="main-content">
            <header class="main-header">
                <h1>Advertiser: Global Tech Inc.</h1>
            </header>

            <main>
                <!-- Main Campaigns Dashboard View -->
                <section id="campaign-view">
                    <div class="view-header">
                        <h2>Campaigns Dashboard</h2>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card"><h4>Total Cost</h4><p>₹42,850.00</p></div>
                        <div class="stat-card"><h4>Average CPA</h4><p>₹12.75</p></div>
                        <div class="stat-card"><h4>Impressions Lost (Budget)</h4><p>1.2M</p></div>
                    </div>
                    <div class="campaign-list-container">
                        <div class="campaign-list-header">
                            <button id="create-campaign-btn" class="create-btn">+ New Campaign</button>
                            <h3>Active Campaigns</h3>
                        </div>
                        <div id="campaign-list"></div>
                    </div>
                </section>

                <!-- Audiences Module View -->
                <section id="audiences-view" class="hidden">
                    <div class="view-header"><h2>Audiences</h2></div>
                    <nav class="sub-navigation">
                        <ul>
                            <li class="active-tab" data-tab="all-audiences">All audiences</li>
                            <li data-tab="custom-lists">Custom lists</li>
                            <li data-tab="analysis">Analysis</li>
                        </ul>
                    </nav>
                    <div id="all-audiences-content" class="tab-content active-tab-content">
                        <div class="campaign-list-header">
                            <button class="create-btn">+ New Audience</button>
                        </div>
                        <div id="audience-list-container"></div>
                    </div>
                    <div id="custom-lists-content" class="tab-content">
                        <h3>Custom Lists</h3>
                        <p>This is where you would create and manage custom affinity and custom intent audiences.</p>
                    </div>
                    <div id="analysis-content" class="tab-content">
                        <h3>Audience Analysis</h3>
                        <p>This is where you would perform a rich analysis of your audience composition.</p>
                    </div>
                </section>
                
                <!-- Creatives Module View -->
                <section id="creatives-view" class="hidden">
                    <div class="view-header"><h2>Creatives</h2></div>
                    <nav class="sub-navigation">
                        <ul>
                            <li class="active-tab" data-tab="creative-library">Creative library</li>
                            <li data-tab="format-gallery">Format gallery</li>
                            <li data-tab="data-driven-rules">Data-driven rules</li>
                        </ul>
                    </nav>
                    <div id="creative-library-content" class="tab-content active-tab-content">
                        <p style="margin-bottom: 20px; color: var(--text-light);">Manage and preview all your creative assets in one place.</p>
                        <div id="creative-list-container"></div>
                    </div>
                    <div id="format-gallery-content" class="tab-content">
                        <p style="margin-bottom: 20px; color: var(--text-light);">Discover innovative formats and browse templates for custom solutions.</p>
                        <div class="format-gallery-grid">
                            <div class="format-card"><h4>Standard Display</h4><p>Classic banner ads in all IAB sizes.</p></div>
                            <div class="format-card"><h4>Rich Media</h4><p>Interactive HTML5 ads that engage users.</p></div>
                            <div class="format-card"><h4>Video Preroll</h4><p>Video ads that play before YouTube content.</p></div>
                            <div class="format-card"><h4>Native</h4><p>Ads that match the look and feel of the site.</p></div>
                        </div>
                    </div>
                    <div id="data-driven-rules-content" class="tab-content">
                         <p style="margin-bottom: 20px; color: var(--text-light);">Create variations of your message and set up rules to deliver your creative strategy.</p>
                        <div id="campaign-table-container">
                            <table>
                                <thead><tr><th>Rule Name</th><th>Audience</th><th>Creative Variation</th><th>Priority</th></tr></thead>
                                <tbody><tr><td>Target Cart Abandoners</td><td>Cart Abandoners (Combined)</td><td>Q4 Holiday Sale - 10% Off</td><td>High</td></tr></tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- Reporting Module View -->
                <section id="reporting-view" class="hidden">
                    <div class="view-header"><h2>Reporting</h2></div>
                    <div class="report-controls">
                        <div class="form-group">
                            <label>Visualization Type</label>
                            <select id="visualization-type">
                                <option value="table">Flat Table</option>
                                <option value="bar">Bar Chart</option>
                                <option value="line">Time Series (Line Chart)</option>
                                <option value="pie">Pie Chart</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Dimension</label>
                            <select id="report-dimension"><option>Campaign</option><option>Date</option></select>
                        </div>
                        <div class="form-group">
                            <label>Metric</label>
                            <select id="report-metric"><option>Impressions</option><option>Clicks</option></select>
                        </div>
                        <button id="run-report-btn" class="create-btn">Run Report</button>
                    </div>
                    <div class="report-display-area">
                        <div id="report-table-container" class="report-visual active-visual"></div>
                        <div class="report-visual chart-container"><canvas id="bar-chart-canvas"></canvas></div>
                        <div class="report-visual chart-container"><canvas id="line-chart-canvas"></canvas></div>
                        <div class="report-visual chart-container"><canvas id="pie-chart-canvas"></canvas></div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- ===== "CREATE CAMPAIGN" MODAL FORM ===== -->
    <div id="campaign-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <form id="create-campaign-form">
                <div class="modal-header">
                    <h3>Create New Campaign</h3>
                    <button type="button" id="close-modal-btn" class="close-btn">&times;</button>
                </div>
                <!-- Step containers -->
                <div class="form-step active-step">
                    <h4>Step 1: Basic Details</h4>
                    <div class="form-group"><label for="campaign-name">Campaign Name</label><input type="text" id="campaign-name" required></div>
                    <div class="form-group"><label for="campaign-goal">Goal</label><select id="campaign-goal"><option>Raise awareness</option><option>Drive action</option></select></div>
                    <div class="form-group"><label for="campaign-kpi">KPI</label><input type="text" id="campaign-kpi" value="CPM"></div>
                </div>
                <div class="form-step">
                    <h4>Step 2: Settings</h4>
                    <div class="form-group"><label for="planned-spend">Planned Spend</label><input type="number" id="planned-spend"></div>
                    <div class="form-group"><label for="start-date">Planned Dates</label><div style="display: flex; gap: 10px;"><input type="date" id="start-date" required><input type="date" id="end-date" required></div></div>
                </div>
                <div class="form-step">
                    <h4>Step 3: Default Targeting</h4>
                    <div class="form-group"><label>Geography</label><input type="text" placeholder="e.g., Mumbai, Maharashtra"></div>
                </div>
                <!-- Navigation -->
                <div class="form-navigation">
                    <button type="button" id="back-btn" class="secondary-btn hidden">Back</button>
                    <button type="button" id="next-btn" class="create-btn">Next</button>
                    <button type="submit" id="submit-btn" class="create-btn hidden">Create Campaign</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- ===== "AD CANVAS" MODAL ===== -->
    <div id="ad-canvas-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h3 id="ad-canvas-title">Ad Canvas Preview</h3>
                <button type="button" id="close-ad-canvas-btn" class="close-btn">&times;</button>
            </div>
            <div class="ad-canvas-body">
                <div class="ad-canvas-preview-area">
                    <img id="ad-canvas-image" src="" alt="Creative Preview">
                </div>
                <div class="ad-canvas-controls">
                    <h4>Device Preview</h4>
                    <div class="device-switcher">
                        <button class="device-btn active-device" data-size="300x250">Desktop</button>
                        <button class="device-btn" data-size="320x480">Mobile</button>
                        <button class="device-btn" data-size="768x1024">Tablet</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>

